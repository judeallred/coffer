echo "ğŸ” Running pre-commit checks..."
echo ""

# Auto-fix formatting
echo "ğŸ“ Auto-fixing code formatting..."
deno task format
if [ $? -ne 0 ]; then
  echo "âŒ Formatting failed!"
  exit 1
fi
echo "âœ… Formatting fixed"
echo ""

# Check linting
echo "ğŸ” Checking lint rules..."
deno task lint
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed! Please fix the errors above."
  exit 1
fi
echo "âœ… Linting passed"
echo ""

# Build project
echo "ğŸ—ï¸  Building project..."
deno task build > /dev/null 2>&1
if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Run 'deno task build' to see details."
  exit 1
fi
echo "âœ… Build succeeded"
echo ""

echo "âœ¨ All pre-commit checks passed!"
